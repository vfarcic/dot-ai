{"input":{"issue":"Analyze capabilities of Kubernetes resource: ClusterCleanupPolicy"},"output":"{\n  \"capabilities\": [\n    \"policy-based resource cleanup\",\n    \"scheduled execution\",\n    \"resource matching by kinds, names, namespaces\",\n    \"label selector matching (matchLabels, matchExpressions)\",\n    \"annotation matching\",\n    \"namespaceSelector filtering\",\n    \"exclude rules for resources and subjects\",\n    \"conditional rules with any/all and comparison operators\",\n    \"deletion propagation policy control (Foreground, Background, Orphan)\",\n    \"external data lookup via HTTP service (GET/POST)\",\n    \"JMESPath data extraction\",\n    \"ConfigMap data reference\",\n    \"image registry query with credentials\",\n    \"RBAC subject/role/clusterRole matching\",\n    \"operation-based matching\",\n    \"variables with defaults and jmesPath\",\n    \"status reporting (conditions, lastExecutionTime)\"\n  ],\n  \"providers\": [\"kyverno\", \"kubernetes\"],\n  \"abstractions\": [\n    \"policy-driven automation\",\n    \"scheduled cleanup workflow\",\n    \"external data integration\",\n    \"selector-based targeting\"\n  ],\n  \"complexity\": \"medium\",\n  \"description\": \"Defines a Kyverno cluster-wide policy that performs resource cleanup on a schedule. It targets resources via match/exclude selectors, conditional logic, and supports deletion propagation settings and contextual data.\",\n  \"useCase\": \"Automate periodic deletion of targeted Kubernetes resources based on kinds, labels/annotations, namespaces, and conditional context.\",\n  \"confidence\": 0.88\n}","performance":{"duration_ms":50712,"input_tokens":2448,"output_tokens":2351,"total_tokens":4799,"sdk":"vercel","model_version":"gpt-5","iterations":1,"tool_calls_executed":0,"cache_read_tokens":0,"cache_creation_tokens":0},"metadata":{"timestamp":"2025-10-12T02:43:00.745Z","complexity":"medium","tags":["troubleshooting"],"source":"integration_test","tool":"capability","test_scenario":"capability-inference","failure_analysis":""}}
